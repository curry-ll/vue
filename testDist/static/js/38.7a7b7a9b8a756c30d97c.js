webpackJsonp([38],{W0Zx:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("mvHQ"),o=e.n(a),i=e("Au9i"),d=e("U7mS"),A=e.n(d),s={name:"addSound",data:function(){return{content:"",images:[],show:!1}},methods:{back:function(){this.$router.push("/sound")},hide:function(){this.show=!1},showupload:function(){this.show=!0},selectImg:function(n){this.images.length>=6&&(n.preventDefault(),Object(i.Toast)({message:"上传图片不能超过6张",position:"bottom",duration:2e3}))},uploadImg:function(n){var t=this,e=new FormData;e.append("token",localStorage.getItem("token")),e.append("type","6"),e.append("image",n);this.$http.post("/user/Image",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(n){100===n.data.flag&&t.images.push(n.data.data.url)})},uploadChange:function(n){var t=this;n.target.files[0].size>2048e3?A()(n.target.files[0],{width:300}).then(function(n){t.uploadImg(n.file)}).catch(function(n){console.log(n)}).always(function(){}):this.uploadImg(n.target.files[0])},submit:function(){var n=this,t={content:this.content,images:o()(this.images)};this.$http({method:"post",url:"/heartfelt/Heartfelt",data:t}).then(function(t){100===t.data.flag?(Object(i.Toast)({message:t.data.message,position:"bottom",duration:2e3}),n.$router.push("/sound")):Object(i.Toast)({message:t.data.message,position:"bottom",duration:2e3})})}},mounted:function(){}},p=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"addSound"},[e("div",{staticClass:"top"},[e("img",{attrs:{src:"/static/img/icon-left.png",alt:""},on:{click:n.back}}),n._v(" "),e("h2",[n._v("发布声音")]),n._v(" "),e("span",{on:{click:function(t){return n.submit()}}},[n._v("发布")])]),n._v(" "),e("div",{staticStyle:{"padding-bottom":"50px"}}),n._v(" "),e("div",{staticClass:"content"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.content,expression:"content"}],staticClass:"inputcontent",attrs:{placeholder:"分享你的声音..."},domProps:{value:n.content},on:{focus:function(t){return n.showupload()},input:function(t){t.target.composing||(n.content=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"imgbox"},n._l(n.images,function(n,t){return e("img",{key:t,attrs:{src:n,alt:""}})}),0),n._v(" "),e("div",{staticStyle:{"padding-bottom":"50px"}}),n._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"show"}],staticClass:"bottom",on:{click:function(t){return n.selectImg(t)}}},[e("div",{staticClass:"bottom-wrap"},[e("input",{staticClass:"input-upload",attrs:{type:"file",accept:"image/*",captrue:"camera"},on:{change:function(t){return n.uploadChange(t)}}}),n._v(" "),e("img",{attrs:{src:"/static/img/icon-upload.png",alt:""}}),n._v(" "),e("p",[n._v("添加图片")])])])])};p._withStripped=!0;var c={render:p,staticRenderFns:[]},r=c;var l=!1;var u=e("VU/8")(s,r,!1,function(n){l||e("dUMZ")},"data-v-11b1e98e",null);u.options.__file="src/components/page/addSound.vue";t.default=u.exports},dUMZ:function(n,t,e){var a=e("nxIK");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("1c70495c",a,!1,{})},nxIK:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.addSound[data-v-11b1e98e] {\n  overflow: hidden;\n}\n.addSound .top[data-v-11b1e98e] {\n    width: 100%;\n    height: 50px;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: #ffffff;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    border-bottom: 1px solid #cccccc;\n}\n.addSound .top img[data-v-11b1e98e] {\n      width: 25px;\n      height: 25px;\n      margin-left: 10px;\n}\n.addSound .top span[data-v-11b1e98e] {\n      padding: 0 25px;\n      font-size: 14px;\n      color: #f21d40;\n}\n.addSound .top h2[data-v-11b1e98e] {\n      font-size: 16px;\n}\n.addSound .content[data-v-11b1e98e] {\n    width: 94%;\n    margin: 15px auto;\n}\n.addSound .content .inputcontent[data-v-11b1e98e] {\n      width: 100%;\n      height: 200px;\n      border: none;\n      outline: none;\n      background: none;\n}\n.addSound .imgbox[data-v-11b1e98e] {\n    width: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.addSound .imgbox img[data-v-11b1e98e] {\n      height: 110px;\n      width: 32%;\n      margin: 2px;\n}\n.addSound .bottom[data-v-11b1e98e] {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 44px;\n    background: white;\n}\n.addSound .bottom .bottom-wrap[data-v-11b1e98e] {\n      width: 100%;\n      height: 44px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n.addSound .bottom .bottom-wrap img[data-v-11b1e98e] {\n        width: 22px;\n        height: 20px;\n}\n.addSound .bottom .bottom-wrap p[data-v-11b1e98e] {\n        font-size: 14px;\n        color: #f21d40;\n        margin-left: 5px;\n}\n.addSound .bottom .bottom-wrap .input-upload[data-v-11b1e98e] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 44px;\n        opacity: 0;\n}\n","",{version:3,sources:["D:/item/benefit/src/components/page/addSound.vue"],names:[],mappings:";AACA;EACE,iBAAiB;CAClB;AACD;IACI,YAAY;IACZ,aAAa;IACb,gBAAgB;IAChB,OAAO;IACP,QAAQ;IACR,oBAAoB;IACpB,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,0BAA0B;QACtB,uBAAuB;YACnB,+BAA+B;IACvC,0BAA0B;QACtB,uBAAuB;YACnB,oBAAoB;IAC5B,iCAAiC;CACpC;AACD;MACM,YAAY;MACZ,aAAa;MACb,kBAAkB;CACvB;AACD;MACM,gBAAgB;MAChB,gBAAgB;MAChB,eAAe;CACpB;AACD;MACM,gBAAgB;CACrB;AACD;IACI,WAAW;IACX,kBAAkB;CACrB;AACD;MACM,YAAY;MACZ,cAAc;MACd,aAAa;MACb,cAAc;MACd,iBAAiB;CACtB;AACD;IACI,YAAY;IACZ,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,oBAAoB;QAChB,gBAAgB;CACvB;AACD;MACM,cAAc;MACd,WAAW;MACX,YAAY;CACjB;AACD;IACI,gBAAgB;IAChB,UAAU;IACV,QAAQ;IACR,YAAY;IACZ,aAAa;IACb,kBAAkB;CACrB;AACD;MACM,YAAY;MACZ,aAAa;MACb,qBAAqB;MACrB,qBAAqB;MACrB,cAAc;MACd,yBAAyB;UACrB,sBAAsB;cAClB,wBAAwB;MAChC,0BAA0B;UACtB,uBAAuB;cACnB,oBAAoB;CACjC;AACD;QACQ,YAAY;QACZ,aAAa;CACpB;AACD;QACQ,gBAAgB;QAChB,eAAe;QACf,iBAAiB;CACxB;AACD;QACQ,mBAAmB;QACnB,OAAO;QACP,QAAQ;QACR,YAAY;QACZ,aAAa;QACb,WAAW;CAClB",file:"addSound.vue",sourcesContent:["\n.addSound[data-v-11b1e98e] {\n  overflow: hidden;\n}\n.addSound .top[data-v-11b1e98e] {\n    width: 100%;\n    height: 50px;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: #ffffff;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    border-bottom: 1px solid #cccccc;\n}\n.addSound .top img[data-v-11b1e98e] {\n      width: 25px;\n      height: 25px;\n      margin-left: 10px;\n}\n.addSound .top span[data-v-11b1e98e] {\n      padding: 0 25px;\n      font-size: 14px;\n      color: #f21d40;\n}\n.addSound .top h2[data-v-11b1e98e] {\n      font-size: 16px;\n}\n.addSound .content[data-v-11b1e98e] {\n    width: 94%;\n    margin: 15px auto;\n}\n.addSound .content .inputcontent[data-v-11b1e98e] {\n      width: 100%;\n      height: 200px;\n      border: none;\n      outline: none;\n      background: none;\n}\n.addSound .imgbox[data-v-11b1e98e] {\n    width: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.addSound .imgbox img[data-v-11b1e98e] {\n      height: 110px;\n      width: 32%;\n      margin: 2px;\n}\n.addSound .bottom[data-v-11b1e98e] {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 44px;\n    background: white;\n}\n.addSound .bottom .bottom-wrap[data-v-11b1e98e] {\n      width: 100%;\n      height: 44px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\n.addSound .bottom .bottom-wrap img[data-v-11b1e98e] {\n        width: 22px;\n        height: 20px;\n}\n.addSound .bottom .bottom-wrap p[data-v-11b1e98e] {\n        font-size: 14px;\n        color: #f21d40;\n        margin-left: 5px;\n}\n.addSound .bottom .bottom-wrap .input-upload[data-v-11b1e98e] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 44px;\n        opacity: 0;\n}\n"],sourceRoot:""}])}});