webpackJsonp([42],{I2Nz:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("Gu7T"),i=e.n(a),o=e("7+uW"),s=e("Au9i"),A=e("KheU");o.default.component(s.Loadmore.name,s.Loadmore);var d={name:"leavingMessage",data:function(){return{allLoaded:!1,uid:this.$route.query.uid,page:1,num:5,content:"",bottomPullText:"上拉加载更多",list:[],name:"",time:3}},methods:{back:function(){this.$router.go(-1)},deleteRecord:function(t){var n=this;s.MessageBox.confirm("确定删除记录?").then(function(e){var a=n,i={id:t};n.$http({method:"DELETE",url:"/user/Talk",data:i}).then(function(t){100===t.data.flag&&a.getData()})})},sendkeyComment:function(t){13===t.keyCode&&this.sendComment()},sendComment:function(){var t=this,n={uid:this.$route.query.uid,content:this.content};this.$http({method:"post",url:"/user/Talk",data:n}).then(function(n){100===n.data.flag?(Object(s.Toast)({message:n.data.message,position:"bottom",duration:2e3}),t.content="",document.querySelector(".commentContent").blur(),t.getData()):Object(s.Toast)({message:n.data.message,position:"bottom",duration:2e3})})},getData:function(){var t={uid:this.uid,page:this.page,num:this.num},n=this;this.$http({method:"get",url:"/user/TalkInfo",params:t}).then(function(t){100===t.data.flag&&(n.list=t.data.data.talk_obj.reverse(),n.name=t.data.data.nick_name,n.list.map(function(t){t.create_time=Object(A.d)(t.create_time)}))})},loadTop:function(){this.page=this.page+1;var t={uid:this.uid,page:this.page,num:this.num},n=this;this.$http({method:"get",url:"/user/TalkInfo",params:t}).then(function(t){var e;t.data.data.talk_obj.length>0?(t.data.data.talk_obj.map(function(t){t.create_time=Object(A.d)(t.create_time)}),n.list.reverse(),(e=n.list).push.apply(e,i()(t.data.data.talk_obj)),n.list.reverse()):(n.bottomPullText="没有更多了",n.$refs.loadmore.onBottomLoaded(),n.allLoaded=!0)})}},mounted:function(){this.getData()}},l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"leavingMessage"},[e("div",{staticClass:"top"},[e("img",{attrs:{src:"/static/img/icon-left.png",alt:""},on:{click:t.back}}),t._v(" "),e("h2",[t._v(t._s(t.name))]),t._v(" "),e("i")]),t._v(" "),e("div",{staticStyle:{"padding-bottom":"50px"}}),t._v(" "),e("mt-loadmore",{ref:"loadmore",staticStyle:{overflow:"scroll"},attrs:{"top-method":t.loadTop,"bottom-all-loaded":t.allLoaded,bottomPullText:t.bottomPullText}},t._l(t.list,function(n,a){return e("div",{key:a,staticClass:"unit"},[e("h3",[t._v(t._s(n.create_time))]),t._v(" "),e("div",{staticClass:"unit-box",class:{right:1==n.identity}},[n.head_img?t._e():e("img",{attrs:{src:"/static/img/defaultImg.png",alt:""}}),t._v(" "),n.head_img?e("img",{attrs:{src:n.head_img,alt:""}}):t._e(),t._v(" "),e("p",{on:{click:function(e){return t.deleteRecord(n.id)}}},[t._v(t._s(n.content))]),t._v(" "),e("h6")])])}),0),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"bottom-wrap"},[e("h5"),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"commentContent",attrs:{type:"text",placeholder:"留言"},domProps:{value:t.content},on:{keyup:t.sendkeyComment,input:function(n){n.target.composing||(t.content=n.target.value)}}}),t._v(" "),e("img",{attrs:{src:"/static/img/soundicon-send.png",alt:""},on:{click:function(n){return t.sendComment()}}})])])],1)};l._withStripped=!0;var r={render:l,staticRenderFns:[]},g=r;var p=!1;var b=e("VU/8")(d,g,!1,function(t){p||e("NVCV")},"data-v-04b6305a",null);b.options.__file="src/components/page/leavingMessage.vue";n.default=b.exports},NVCV:function(t,n,e){var a=e("uaAC");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("77959521",a,!1,{})},uaAC:function(t,n,e){(t.exports=e("FZ+f")(!0)).push([t.i,"\n.leavingMessage .top[data-v-04b6305a] {\n  width: 100%;\n  height: 50px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: #ffffff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  border-bottom: 1px solid #cccccc;\n}\n.leavingMessage .top img[data-v-04b6305a] {\n    width: 25px;\n    height: 25px;\n    margin-left: 10px;\n}\n.leavingMessage .top i[data-v-04b6305a] {\n    padding: 0 25px;\n    font-size: 20px;\n}\n.leavingMessage .top h2[data-v-04b6305a] {\n    font-size: 16px;\n}\n.leavingMessage .unit[data-v-04b6305a] {\n  width: 96%;\n  margin: 10px auto;\n}\n.leavingMessage .unit h3[data-v-04b6305a] {\n    color: #aaaaaa;\n    text-align: center;\n    margin-bottom: 10px;\n}\n.leavingMessage .unit .unit-box[data-v-04b6305a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.leavingMessage .unit .unit-box img[data-v-04b6305a] {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n}\n.leavingMessage .unit .unit-box h6[data-v-04b6305a] {\n      width: 40px;\n      height: 40px;\n}\n.leavingMessage .unit .unit-box p[data-v-04b6305a] {\n      background: white;\n      border-radius: 4px;\n      padding: 5px 10px;\n      margin: 0 10px;\n}\n.leavingMessage .unit .right[data-v-04b6305a] {\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse;\n}\n.leavingMessage .bottom[data-v-04b6305a] {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 50px;\n  background: white;\n}\n.leavingMessage .bottom .bottom-wrap[data-v-04b6305a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 94%;\n    margin: 5px auto;\n}\n.leavingMessage .bottom .bottom-wrap h5[data-v-04b6305a] {\n      width: 20px;\n      height: 20px;\n}\n.leavingMessage .bottom .bottom-wrap img[data-v-04b6305a] {\n      width: 20px;\n      height: 20px;\n}\n.leavingMessage .bottom .bottom-wrap input[data-v-04b6305a] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      margin: 0 10px;\n      height: 38px;\n      background: #f8f8f8;\n      border: none;\n      outline: none;\n      border-radius: 4px;\n      text-indent: 10px;\n}\n","",{version:3,sources:["D:/item/benefit/src/components/page/leavingMessage.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,OAAO;EACP,QAAQ;EACR,oBAAoB;EACpB,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,+BAA+B;EACvC,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;EAC5B,iCAAiC;CAClC;AACD;IACI,YAAY;IACZ,aAAa;IACb,kBAAkB;CACrB;AACD;IACI,gBAAgB;IAChB,gBAAgB;CACnB;AACD;IACI,gBAAgB;CACnB;AACD;EACE,WAAW;EACX,kBAAkB;CACnB;AACD;IACI,eAAe;IACf,mBAAmB;IACnB,oBAAoB;CACvB;AACD;IACI,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;CACjB;AACD;MACM,YAAY;MACZ,aAAa;MACb,mBAAmB;CACxB;AACD;MACM,YAAY;MACZ,aAAa;CAClB;AACD;MACM,kBAAkB;MAClB,mBAAmB;MACnB,kBAAkB;MAClB,eAAe;CACpB;AACD;IACI,+BAA+B;IAC/B,+BAA+B;QAC3B,gCAAgC;YAC5B,4BAA4B;CACvC;AACD;EACE,gBAAgB;EAChB,UAAU;EACV,QAAQ;EACR,YAAY;EACZ,aAAa;EACb,kBAAkB;CACnB;AACD;IACI,qBAAqB;IACrB,qBAAqB;IACrB,cAAc;IACd,0BAA0B;QACtB,uBAAuB;YACnB,+BAA+B;IACvC,0BAA0B;QACtB,uBAAuB;YACnB,oBAAoB;IAC5B,WAAW;IACX,iBAAiB;CACpB;AACD;MACM,YAAY;MACZ,aAAa;CAClB;AACD;MACM,YAAY;MACZ,aAAa;CAClB;AACD;MACM,oBAAoB;UAChB,YAAY;cACR,QAAQ;MAChB,eAAe;MACf,aAAa;MACb,oBAAoB;MACpB,aAAa;MACb,cAAc;MACd,mBAAmB;MACnB,kBAAkB;CACvB",file:"leavingMessage.vue",sourcesContent:["\n.leavingMessage .top[data-v-04b6305a] {\n  width: 100%;\n  height: 50px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: #ffffff;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  border-bottom: 1px solid #cccccc;\n}\n.leavingMessage .top img[data-v-04b6305a] {\n    width: 25px;\n    height: 25px;\n    margin-left: 10px;\n}\n.leavingMessage .top i[data-v-04b6305a] {\n    padding: 0 25px;\n    font-size: 20px;\n}\n.leavingMessage .top h2[data-v-04b6305a] {\n    font-size: 16px;\n}\n.leavingMessage .unit[data-v-04b6305a] {\n  width: 96%;\n  margin: 10px auto;\n}\n.leavingMessage .unit h3[data-v-04b6305a] {\n    color: #aaaaaa;\n    text-align: center;\n    margin-bottom: 10px;\n}\n.leavingMessage .unit .unit-box[data-v-04b6305a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.leavingMessage .unit .unit-box img[data-v-04b6305a] {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n}\n.leavingMessage .unit .unit-box h6[data-v-04b6305a] {\n      width: 40px;\n      height: 40px;\n}\n.leavingMessage .unit .unit-box p[data-v-04b6305a] {\n      background: white;\n      border-radius: 4px;\n      padding: 5px 10px;\n      margin: 0 10px;\n}\n.leavingMessage .unit .right[data-v-04b6305a] {\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse;\n}\n.leavingMessage .bottom[data-v-04b6305a] {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 50px;\n  background: white;\n}\n.leavingMessage .bottom .bottom-wrap[data-v-04b6305a] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 94%;\n    margin: 5px auto;\n}\n.leavingMessage .bottom .bottom-wrap h5[data-v-04b6305a] {\n      width: 20px;\n      height: 20px;\n}\n.leavingMessage .bottom .bottom-wrap img[data-v-04b6305a] {\n      width: 20px;\n      height: 20px;\n}\n.leavingMessage .bottom .bottom-wrap input[data-v-04b6305a] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      margin: 0 10px;\n      height: 38px;\n      background: #f8f8f8;\n      border: none;\n      outline: none;\n      border-radius: 4px;\n      text-indent: 10px;\n}\n"],sourceRoot:""}])}});